!function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var i=t();for(var n in i)("object"==typeof exports?exports:e)[n]=i[n]}}(window,function(){return function(e){var t={};function i(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,i),o.l=!0,o.exports}return i.m=e,i.c=t,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},i.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=0)}([function(e,t,i){"use strict";function n(e,t){return e.classList.contains(t)}function o(e,t){Object.keys(t).forEach(i=>{e.style[i]=t[i]})}i.r(t),i(2);class s{constructor(e={}){this.options=Object.assign({},s.DEFAULTS,e),this.containerEl=document.querySelector(e.parent),this.configs=[],this.moveIndex=-1,this.mousedown=!1,this.cachePos={x:0,y:0},this._mousedown=this._mousedown.bind(this),this._mousemove=this._mousemove.bind(this),this._mouseup=this._mouseup.bind(this),this._init()}static get DEFAULTS(){return{parent:".split-parent",children:".split-children",defaultSize:100,minSize:0,maxSize:1/0,step:0,onDragStart:function(){},onDragEnd:function(){}}}_init(){if(!this.containerEl)throw new TypeError("Can't find dom element: options.parent");this._getConfigs(this.containerEl),this.configs.forEach(e=>{this._styleInit(e),this._creatResizer(e),this._eventBind(e)})}_getConfigs(e){let t=Array.from(e.children);t.length>2&&(t=t.slice(0,2),console.warn("Each split-parent can only contain up to 2 split-children"));let i=t.filter(e=>n(e,this.options.children.slice(1))),o=Number(e.dataset.defaultSize||this.options.defaultSize)||0,s=Number(e.dataset.minSize||this.options.minSize)||0,r=Number(e.dataset.maxSize||this.options.maxSize)||0,l=Number(e.dataset.step||this.options.step)||0;if(o<0||s<0||r<0||l<0)throw new TypeError("defaultSize | minSize | maxSize | step: can't less than 0");if(s>r)throw new TypeError(`minSize(${s}) can't greater than minSize(${r})`);if(s>o||r<o)throw new TypeError(`defaultSize(${o}) can't less than minSize(${s}), or can't greater than maxSize(${r})`);let a=["vertical","horizontal"].includes(e.dataset.split)?e.dataset.split:"vertical";this.configs.push({parentEl:e,childrenConfig:i.map(e=>({childrenEl:e,cacheStyle:e.getAttribute("style")})),minSize:s,maxSize:r,defaultSize:o,split:a,step:this._clampNumber(l,0,100),cacheStyle:e.getAttribute("style"),move:!1}),t.forEach(e=>{let t=Array.from(e.children).find(e=>n(e,this.options.parent.slice(1)));t&&this._getConfigs(t)})}_styleInit(e){e.cacheStyle=e.parentEl.getAttribute("style"),o(e.parentEl,"vertical"===e.split?{display:"flex",flex:"1 1 0%",height:"100%",position:"absolute",outline:"none",overflow:"hidden",userSelect:"text",flexDirection:"row",left:"0px",right:"0px"}:{display:"flex",flex:"1 1 0%",height:"100%",position:"absolute",outline:"none",overflow:"hidden",userSelect:"text",bottom:"0px",flexDirection:"column",minHeight:"100%",top:"0px",width:"100%"}),e.childrenConfig&&e.childrenConfig.forEach((t,i)=>{let n=i===e.childrenConfig.length-1;o(t.childrenEl,{flex:n?"1 1 0%":"0 0 auto",position:"relative",outline:"none",["vertical"===e.split?"width":"height"]:n?"auto":e.defaultSize+"px"})})}_creatResizer(e){e.childrenConfig&&e.childrenConfig.forEach((t,i)=>{if(i!==e.childrenConfig.length-1){let i=e.resizerEl=document.createElement("div");i.setAttribute("class",`Resizer ${e.split}`),this._after(t.childrenEl,i)}})}_eventBind(e){document.addEventListener("mousedown",this._mousedown),document.addEventListener("mousemove",this._mousemove),document.addEventListener("mouseup",this._mouseup)}_mousedown(e){this.moveIndex=this.configs.findIndex(t=>t.resizerEl===e.target),this.moveIndex<0||(this.cachePos={x:e.pageX,y:e.pageY})}_mousemove(e){if(this.moveIndex<0)return;let t=this.configs[this.moveIndex],i=t.childrenConfig[0].childrenEl,n=e.pageX-this.cachePos.x,s=e.pageY-this.cachePos.y;this.cachePos={x:e.pageX,y:e.pageY};let r="vertical"===t.split?"width":"height",l=function(e,t,i){let n=window.getComputedStyle(e,null).getPropertyValue(t);return parseFloat(n)}(i,r),a=l+("width"===r?n:s);(a=this._clampNumber(a,t.minSize,t.maxSize))!==l&&(a>t.minSize&&a<t.maxSize?(this._unFocus(document,window),this.options.onDragStart(e),o(i,{[r]:a+"px"})):this._mouseup(e))}_mouseup(e){this.moveIndex=-1,this.options.onDragEnd(e)}_after(e,t){e.nextSibling?e.parentNode.insertBefore(t,e.nextSibling):e.parentNode.appendChild(t)}_clampNumber(e,t,i){return Math.max(Math.min(e,Math.max(t,i)),Math.min(t,i))}_unFocus(e,t){if(e.selection)e.selection.empty();else try{t.getSelection().removeAllRanges()}catch(e){}}destroy(){this.configs.forEach(e=>{document.removeEventListener("mousedown",this._mousedown),document.removeEventListener("mousemove",this._mousemove),document.removeEventListener("mouseup",this._mouseup),e.parentEl.style.cssText=e.cacheStyle||"",e.childrenConfig&&e.childrenConfig.forEach(e=>{e.childrenEl.style.cssText=e.cacheStyle||""})})}}window.Split=s,t.default=s},,function(e,t,i){}])});